3:I[4707,[],""]
5:I[6423,[],""]
2:Ta59,<h1>Trust your dependencies, but Verify!</h1>
<p>I recently was reminded how often we take our programming languages and libraries for granted, thinking that they are ‚Äústable‚Äù and forgetting that they are also evolving, getting better and performant all the time.</p>
<p>I was researching for another post on Kotlin value class (coming soon) and came across these lines of code in <a href="https://github.com/Kotlin/KEEP/blob/master/notes/value-classes.md#introduction">value classes KEEP notes</a></p>
<pre><code class="hljs language-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> a = <span class="hljs-string">"Kotlin"</span>
    <span class="hljs-keyword">val</span> b = a.filter { it != <span class="hljs-string">' '</span> } <span class="hljs-comment">// Still "Kotlin"</span>
    println(a == b) <span class="hljs-comment">// true -- same value</span>
    println(a === b) <span class="hljs-comment">// false -- different instance</span>
}
</code></pre>
<p>This code is fragile and the source of fragility is String.filter from Kotlin standard library. The fragility comes from the fact that filter implementation could be changed to return the same reference to a in the future as there are no guarantees by the function regarding referential equality.</p>
<p>This example might not be interesting or relevant to everyone but depicts that software fragility (specifically behaviour sensitivity) can arise not just from our own code but from our dependencies as well and we should be careful regardless the source.</p>
<p>We can mitigate these kinds of scenarios by:</p>
<ol>
<li><strong><em>Being intentional</em></strong>: Become more intentional when relying on dependencies in your code, be skeptical and always remind yourself that the performance characteristics and/or implementation might change</li>
<li><strong><em>Testing rigorously</em></strong>: Have proper test suite. Unit tests to isolate the root cause and Integration tests to have contingencies against any cascading effects of such changes. So, if you decide on updating your dependencies automagically (looking at you Dependabot), you can identify regressions caused by updates to libraries and catch them before they wreak havoc in production</li>
<li><strong><em>Keep yourself informed</em></strong>: Go through the changes (at least the highlights of changes) in a library when migrating to a new major release version. We want to use the new shiny thing but let‚Äôs not shoot ourself in the foot with it</li>
</ol>4:["slug","post-001-trust-your-dependencies-but-verify","d"]
0:["CDoaoOH2VGaEx3fUYkxkj",[[["",{"children":["posts",{"children":[["slug","post-001-trust-your-dependencies-but-verify","d"],{"children":["__PAGE__?{\"slug\":\"post-001-trust-your-dependencies-but-verify\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","post-001-trust-your-dependencies-but-verify","d"],{"children":["__PAGE__",{},[["$L1",["$","article",null,{"className":"mx-auto max-w-xl py-8","children":[["$","div",null,{"className":"mb-8 text-center","children":[["$","time",null,{"dateTime":"2024-04-20T00:00:00.000Z","className":"mb-1 text-xs text-gray-600","children":"April 20, 2024"}],["$","h1",null,{"className":"text-3xl font-bold","children":"Trust your dependencies, but Verify!"}]]}],["$","div",null,{"className":"[&>*]:mb-3 [&>*:last-child]:mb-0","dangerouslySetInnerHTML":{"__html":"$2"}}]]}],null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c0c73e25285197d0.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","children":[null,["$","body",null,{"className":"roboto-regular antialiased","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]}]]}]],null],null],["$L6",null]]]]
6:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Trust your dependencies, but Verify!"}],["$","meta","3",{"name":"description","content":"JVM lover‚òïÔ∏è‚ù§Ô∏è\nSpace Enthusiast üöÄ\nAmateur chef üë®üèΩ‚Äçüç≥"}],["$","link","4",{"rel":"apple-touch-icon","href":"/apple-touch-icon.png","sizes":"180x180"}],["$","link","5",{"rel":"icon","href":"/favicon-16x16.png","type":"image/png","sizes":"16x16"}],["$","link","6",{"rel":"icon","href":"/favicon-32x32.png","type":"image/png","sizes":"32x32"}]]
1:null
